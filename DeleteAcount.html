<!DOCTYPE html>
<html>
<head>
    <title>계정 삭제</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
    <script>
        // 파이어베이스 설정 초기화
        var firebaseConfig = {
            apiKey: "AIzaSyC6QiF3o_TMgFgI6SJ2D4_RdSjZmIYYaRs",
            authDomain: "colink-a7c3a.firebaseapp.com",
            projectId: "colink-a7c3a",
            storageBucket: "colink-a7c3a.appspot.com",
            messagingSenderId: "656455146700",
            appId: "1:656455146700:android:7dbe904a82145823aef669",
            databaseURL: "https://colink-a7c3a-default-rtdb.firebaseio.com"
        };
        // 파이어베이스 앱 초기화
        firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <h2>계정 삭제</h2>
    <form id="delete-account-form">
        <input type="email" id="user-email" placeholder="이메일 입력" required>
        <input type="password" id="user-password" placeholder="비밀번호 입력" required>
        <button type="submit">계정 삭제하기</button>
    </form>

    <script>
        document.getElementById('delete-account-form').addEventListener('submit', function(event) {
            event.preventDefault();

            var email = document.getElementById('user-email').value;
            var password = document.getElementById('user-password').value;

            // 사용자 로그인
            firebase.auth().signInWithEmailAndPassword(email, password).then(function() {
                // 로그인 성공, 현재 로그인된 사용자 가져오기
                var user = firebase.auth().currentUser;

                // 사용자 계정 삭제
                user.delete().then(function() {
                    alert('계정이 성공적으로 삭제되었습니다.');
                }).catch(function(error) {
                    console.error('계정 삭제 오류:', error);
                    alert('계정 삭제 중 오류가 발생했습니다.');
                });
            }).catch(function(error) {
                console.error('로그인 오류:', error);
                alert('로그인 실패: ' + error.message);
            });
        });
    </script>
</body>
</html>
